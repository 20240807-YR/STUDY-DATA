# 아모레퍼시픽 Agent 10: 고객 감정 기반 CRM 메시지 자동 생성

🔗 프로젝트 주제: 고객 감정(리뷰/문의/불만/칭찬)을 분석해
상황·감정에 맞는 맞춤형 CRM 메시지를 자동 생성하는 Agent 10 설계

## 3. 주차별 상세 계획 (Detailed Weekly Plan)

### 1️⃣ 주차: ‘무엇을’ 풀 것인가? (도메인·유즈케이스 확정)

**핵심 목표**:
아모레퍼시픽 맥락에서 Agent 10이 다룰 고객 상황·감정·채널을 정리하고, “어떤 입력 → 어떤 출력”을 만들지 정의.

* Action Items:
	1.	핵심 유즈케이스 정의
	•	예:
	•	“배송 지연 항의 고객에게 사과 + 보상 안내 메시지 자동 생성”
	•	“피부 트러블 불만 리뷰에 공감·가이드 메시지 생성”
	•	“VIP 고객의 긍정 리뷰에 감사 + 추가 제안 메시지 생성”
	2.	입·출력 스펙 설계
	•	입력: 텍스트(리뷰/문의/콜센터 로그 요약), 메타 정보(채널, 제품군, 고객 등급 등)
	•	출력: 톤·길이·목적(사과/설명/제안/안내)이 명시된 CRM 메시지 템플릿
	3.	데이터 소스 및 스키마 정리
	•	감성 라벨용 텍스트 데이터(리뷰, SNS, 테스트용 감성 코퍼스)
	•	CRM 메시지 예시(실제/가상 템플릿) 수집·정리
	4.	Git / 폴더 구조 세팅
	•	data/, eda/, model/, agent/, notebooks/, docs/ 등 기본 구조 확정

⸻

### 2️⃣ 주차: ‘왜’ 이 데이터인가? (EDA 및 감성·상황 기준 설계)

**핵심 목표**:
Agent 10이 사용할 감성 레이블·상황 레이블 체계를 만들고, 텍스트 데이터가 이 기준과 잘 맞는지 EDA로 확인.

* Action Items:
	1.	감성·상황 라벨 체계 설계
	•	감성 예: 부정 / 중립 / 긍정 + 강도(매우, 보통 등)
	•	상황 예: 배송 / 제품 품질 / 피부 트러블 / 상담 경험 / 가격 / 프로모션 등
	•	“라벨 정의 문서” 작성 (각 라벨 예시 문장 포함)
	2.	EDA 코드 작성 및 공유
	•	텍스트 길이 분포, 감성별 비율, 상황별 비율, 키워드 빈도, n-gram, 대표 문장 추출
	•	부정 문장 상위 키워드, 긍정 문장 상위 키워드 분석 (지금 만든 sentiment notebook 활용)
	3.	라벨링 전략 정리
	•	완전 수동 라벨 / 규칙 기반 프리라벨 / 기존 감성모델 활용 등 전략 합의
	•	노이즈 허용 범위, 최소 데이터 개수, 학습·검증 분할 기준
	4.	“왜 이 데이터인가?” 논리 준비
	•	아모레퍼시픽 맥락에서 이 데이터가
	•	어떤 고객 경험을 대표하는지
	•	어떤 문제(이탈, 불만, CS 비용 등)를 줄이는 데 도움을 주는지 서술

⸻

### 3️⃣ 주차: ‘어떻게’ 성능을 높일 것인가? (메시지 생성 품질 개선)

**핵심 목표**:
감성·상황 분류 모델 + 메시지 생성 로직(프롬프트 or 파인튜닝)을 반복 개선해, **“사람이 쓴 것 같은 CRM 메시지”**에 최대한 근접.

* Action Items:
	1.	베이스라인 파이프라인 구축
	•	Step 1: 텍스트 → 감성/상황 라벨 예측 (기본 분류 모델 or 기존 감성모델 활용)
	•	Step 2: 라벨·메타정보를 입력으로 하는 메시지 생성(LLM 프롬프트 베이스라인)
	2.	개선 실험 (브랜치 단위 작업)
	•	감성·상황 분류 성능 개선
	•	전처리 개선, stopwords, 도메인 특화 단어 사전 추가
	•	간단한 ML 모델(Logistic, XGBoost) vs 사전학습 모델 비교
	•	메시지 생성 품질 개선
	•	프롬프트 설계 패턴 실험 (역할, 제약조건, 예시 few-shot)
	•	톤/채널별 스타일 컨트롤(카카오톡, 이메일, 앱푸시 등)
	3.	평가 기준 설계 및 검증
	•	정량: 감성·상황 분류 정확도, F1 등
	•	정성: 사람이 평가하는 “공감도/명확성/브랜드 톤 적합도” 체크리스트 설계
	•	실패 케이스(부적절한 톤, 정보 누락, 책임 회피처럼 느껴지는 표현 등) 모아서 개선

⸻

## 4️⃣ 주차: ‘어떻게’ 포장할 것인가? (Agent 10 제안서 및 데모 스토리)

**핵심 목표**:
Agent 10을 “실제 마케팅/CRM 팀이 바로 써보고 싶어지는 도구”로 보이도록 스토리와 결과물을 정리.

* Action Items:
	1.	Agent 10 컨셉 정리
	•	한 문장 정의:
	•	예) “고객 감정과 상황을 읽고, 아모레퍼시픽 톤에 맞는 CRM 메시지를 자동으로 제안하는 내부용 AI 어시스턴트”
	•	대표 시나리오 3~5개 작성
	•	“배송 지연 항의 → 사과 + 보상 안내 메시지 초안 생성”
	•	“트러블 후기 → 공감 + 사용 중지 안내 + 대체 제품 추천 메시지 생성”
	•	“장기 VIP 고객 리뷰 → 감사 + 전용 혜택 소개 메시지 생성”
	2.	제안서 작성
	•	문제 정의: 왜 ‘고객 감정 기반 CRM’이 중요한지
	•	데이터 & EDA: 어떤 데이터로 어떤 인사이트를 얻었는지
	•	모델 구조: 감성/상황 분류 → 메시지 생성 흐름 다이어그램
	•	성능 및 사례: 전/후 비교 예시, 실패 사례와 개선 과정
	3.	데모/플로우 정리
	•	입력 예시 텍스트 → Agent 10의 응답 CRM 메시지 예시 스크린샷/텍스트
	•	“사람이 수정만 하면 곧바로 발송 가능한 수준”을 강조
	4.	코드 & 리포 정리
	•	main 기준으로 노트북·모델·유틸리티 구조 정리
	•	주석·함수 이름·README 정리
	•	최종 제안서 및 코드 제출 (마감: 12/3 기준 유지)

⸻

## 📅 12월 2–3일 작업 요약: 네이버 뷰티 검색 기록 분석 / 쇼핑 데이터 수집 / 인구·GRDP 분석 / 감성 분석 기초 모델 준비

### 12_03_네이버뷰티검색기록.ipynb — 네이버 뷰티 검색 기록 분석

* **데이터 로드 및 전처리**
	•	네이버뷰티검색기록.csv 로드 후 헤더 시작 위치를 탐색하기 위해 날짜 정규식(\d{4}-\d{2}-\d{2})으로 실제 데이터 시작행(start_idx) 자동 탐지.
	•	skiprows=6 적용하여 본 데이터 프레임 재로드.
	•	날짜 컬럼 → datetime 변환, 스킨케어·트러블케어·선케어·클렌징·메이크업 등 주요 카테고리만 추출해 clean_df 생성.
	•	index를 날짜로 설정하고 숫자형으로 정리.

* **검색량 추세 분석**
	•	AppleSDGothic 폰트 적용 후 카테고리별 검색량 추세 그래프 시각화.

* **증감률 분석**
	•	일별 증감률(pct_change), 전년 대비 증가율(yoy), 월별 평균 증가율(MoM) 계산.
	•	0만 포함하는 행 제거 후 재정제.

* **시즌성 분석**
	•	카테고리별 최고 관심도 시점(peak) / 최저 관심도 시점(low) 산출.

* **상관 분석**
	•	카테고리 간 상관행렬 계산 후 heatmap 시각화.

* **요일 패턴 분석**
	•	weekday 컬럼 생성 → 요일별 평균 검색량 집계 및 bar plot 시각화.

⸻

### 12_03_쇼핑.ipynb — 네이버 쇼핑인사이트 스킨케어 데이터 수집(크롤링)

**네이버 쇼핑 Insight 자동 다운로드**
	•	selenium + ChromeDriverManager 사용해 브라우저 자동 실행.
	•	카테고리 선택:
	•	1차: 화장품/미용
	•	2차: 스킨케어
	•	“데이터 다운로드” 버튼 클릭 → 쇼핑 검색량 CSV 자동 다운로드.

⸻

### 12_03_인구데이터성별.ipynb — 20~34세 여성 인구 분석

* **데이터 로드 및 기본 전처리**
	•	인구데이터성별.csv 로드 → 컬럼명(region, sex, age, pop) 정리.
	•	“연령별”에서 “20~34세 여성”만 추출하여 분석.

* **주요 처리**
	•	20~34세 여성 전체 인구 합계 계산.
	•	지역별 여성 20~34세 인구 Top10 도출 → 반올림 처리.
	•	수도권(서울·경기·인천) 집중도 계산.
	•	지역 전체 인구 대비 20–34세 여성 비중 산출.
	•	연령대(20–24 / 25–29 / 30–34) 구간별 지역 분포 테이블 생성.
	•	bar chart로 Top10 시각화.

⸻

### 12_03_인구통계.ipynb — 장기 시계열 기반 여성2034 인구 분석

* **데이터 로드 및 정리**
	•	인구통계.csv 로드, 컬럼 재정의(region, age, sex, time, population).
	•	latest = df["time"].max() 로 최신 시점 추출.

* **주요 분석** 
	•	최신 시점 기준 20~34세 여성 데이터 추출.
	•	지역별 인구 합산 후 Top10 도출.
	•	전체 데이터 개수 / 여성 데이터 개수 / 최신 시점 데이터 개수 등 기본 검증 출력.

⸻

### 12_03_GRDP.ipynb — GRDP·소득·소비 분석 및 클러스터링

* **데이터 전처리**
	•	GRDP시도별.csv 로드 → GRDP, 소득, 민간소비 컬럼 정리.
	•	수치형 변환.

* **주요 분석**
	•	GRDP 상위 TOP10 시각화(bar).
	•	민간소비 / 개인소득 비율(consumption_ratio) 계산.
	•	소비 성향 상위 Top10 시각화.
	•	소비 성향을 4개 클러스터로 분류(보수적/평균/적극적/초고소비).

* Beauty Market Potential Score 기초 구상
	•	Potential = (2034 여성 인구 비중 × 0.5) + (소비성향 × 0.3) + (GRDP × 0.2)

⸻

### 12_02_sentiment.ipynb — 감성 분석 기초 모델 구축(고객 CRM 메시지 생성용)

* **데이터 로드 및 정리**
	•	테스트용.csv 로드(latin-1 인코딩).
	•	감성 레이블(0 부정 / 4 긍정 / 2 중립) 구조 이해.
	•	불필요한 flag 컬럼 drop → df_model = [label, text] 구성.

* **텍스트 전처리**
	•	nltk stopwords 다운로드.
	•	기본 전처리:
	•	URL 제거
	•	@유저 제거
	•	알파벳·공백 제외 정리
	•	custom stopwords(im, ive, dont, rt, amp …) 추가.

* **부정(label=0) 텍스트 단어 분석**
	•	tqdm 기반 전체 토큰 분석 → Counter로 단어 frequency 계산.
	•	최종 전처리 함수 확장 및 token 확인(clean_text("RT …")).
